# apps/web

Package: `@recall-link/web`.

See `AGENTS.md` for monorepo-level commands and conventions.

## Local Commands

```bash
pnpm dev        # vite (port 3000)
pnpm build      # tsc && vite build
pnpm preview
pnpm typecheck  # tsc --noEmit
```

## Code Map

- Entry/providers: `apps/web/src/main.tsx` (TanStack Router + Query + Base UI)
- Routing: `apps/web/src/routes/*` (`createFileRoute(...)`)
- Layout + SSE: `apps/web/src/routes/__root.tsx` (subscribes to `/api/items/events`, patches query cache)
- Data hooks: `apps/web/src/hooks/*` (React Query + some Zustand)
- API layer: `apps/web/src/lib/api-client.ts`
- Styling/theme: `apps/web/src/index.css`

Gotchas:
- `apps/web/src/routeTree.gen.ts` is generated by the TanStack router plugin; don't hand-edit.
- Keep global SSE wiring in `apps/web/src/routes/__root.tsx` (donâ€™t duplicate in feature routes).

## Environment

- `VITE_API_URL` (default `http://localhost:8787`)

## Local Conventions

- Vite alias: `@/*` maps to `apps/web/src/*` (`apps/web/vite.config.ts`).
- Design: Follow `docs/design-system.md` for tokens, typography (CJK-friendly Serif headings + Sans body), and layout rules.
- Icons: Use `lucide-react` exclusively. Standard sizes: 16/20/24. Stroke width: 1.5. Named imports (e.g., `import { Menu } from 'lucide-react'`) are preferred as Vite handles tree-shaking effectively.

## Anti-Patterns

- **Custom Styling**: Avoid hardcoding colors or spacing; always use Tailwind theme tokens or CSS variables.
- **Icon Libraries**: Do not add other icon libraries (FontAwesome, Heroicons, etc.) to keep the bundle lean and the aesthetic consistent.
